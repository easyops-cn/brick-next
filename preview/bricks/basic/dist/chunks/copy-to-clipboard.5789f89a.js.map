{"version":3,"file":"chunks/copy-to-clipboard.5789f89a.js","mappings":"qLAOO,SAAeA,EAAeC,GAAA,OAAAC,EAAAC,MAAC,KAADC,UAAA,CA0BpC,SAAAF,IAAA,OAAAA,GAAAG,EAAAA,EAAAA,IA1BM,UAA+BC,GACpC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,GAAKC,UAAUC,UAqBbD,UAAUC,UAAUC,UAAUN,GAAMO,KAAKL,GAASM,MAAML,OArBhC,CACxB,IAAMM,EAAWC,SAASC,cAAc,YACxCF,EAASG,MAAQZ,EAEjBS,EAASI,MAAMC,IAAM,IACrBL,EAASI,MAAME,KAAO,IACtBN,EAASI,MAAMG,SAAW,QAE1BN,SAASO,KAAKC,YAAYT,GAC1BA,EAASU,QACTV,EAASW,SAET,IACEV,SAASW,YAAY,QACrBnB,GACF,CAAE,MAAOoB,GACPnB,EAAOmB,EACT,CAAE,QACAZ,SAASO,KAAKM,YAAYd,EAC5B,CACF,CAEA,GAEJ,KAACZ,MAAA,KAAAC,UAAA,CAED0B,eAAeC,OACb,2BACAC,EAAAA,EAAAA,qBAAoBhC,G,iBCrCtB,SAASiC,EAAmBC,EAAK1B,EAASC,EAAQ0B,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOL,EAAIG,GAAKC,GAChBpB,EAAQqB,EAAKrB,KACnB,CAAE,MAAOsB,GAEP,YADA/B,EAAO+B,EAET,CACID,EAAKE,KACPjC,EAAQU,GAERX,QAAQC,QAAQU,GAAOL,KAAKsB,EAAOC,EAEvC,CACe,SAAS/B,EAAkBqC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACTC,EAAOzC,UACT,OAAO,IAAIG,SAAQ,SAAUC,EAASC,GACpC,IAAIyB,EAAMQ,EAAGvC,MAAMwC,EAAME,GACzB,SAASV,EAAMjB,GACbe,EAAmBC,EAAK1B,EAASC,EAAQ0B,EAAOC,EAAQ,OAAQlB,EAClE,CACA,SAASkB,EAAOR,GACdK,EAAmBC,EAAK1B,EAASC,EAAQ0B,EAAOC,EAAQ,QAASR,EACnE,CACAO,OAAMW,EACR,GACF,CACF,C","sources":["webpack:///./src/data-providers/copy-to-clipboard.ts","webpack:///../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { createProviderClass } from \"@next-core/utils/general\";\n\n/**\n * 复制文本内容到粘贴板。\n *\n *  @param text 文本内容\n */\nexport async function copyToClipboard(text: string): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (!navigator.clipboard) {\n      const textArea = document.createElement(\"textarea\");\n      textArea.value = text;\n\n      textArea.style.top = \"0\";\n      textArea.style.left = \"0\";\n      textArea.style.position = \"fixed\";\n\n      document.body.appendChild(textArea);\n      textArea.focus();\n      textArea.select();\n\n      try {\n        document.execCommand(\"copy\");\n        resolve();\n      } catch (err) {\n        reject(err);\n      } finally {\n        document.body.removeChild(textArea);\n      }\n    } else {\n      navigator.clipboard.writeText(text).then(resolve).catch(reject);\n    }\n  });\n}\n\ncustomElements.define(\n  \"basic.copy-to-clipboard\",\n  createProviderClass(copyToClipboard)\n);\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["copyToClipboard","_x","_copyToClipboard","apply","arguments","_asyncToGenerator","text","Promise","resolve","reject","navigator","clipboard","writeText","then","catch","textArea","document","createElement","value","style","top","left","position","body","appendChild","focus","select","execCommand","err","removeChild","customElements","define","createProviderClass","asyncGeneratorStep","gen","_next","_throw","key","arg","info","error","done","fn","self","this","args","undefined"],"sourceRoot":""}