{"version":3,"file":"chunks/get-libs.45b96ff9.js","mappings":"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","sources":["webpack:///./src/data-providers/get-icons.ts","webpack:///./src/data-providers/get-libs.ts","webpack:///../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { createProviderClass } from \"@next-core/utils/general\";\n\nexport async function getEasyopsIcons(): Promise<Record<string, string[]>> {\n  return (await import(\"../easyops-icon/generated/icons.json\")).default;\n}\n\nexport async function getFaIcons(): Promise<Record<string, string[]>> {\n  return (await import(\"../fa-icon/generated/icons.json\")).default;\n}\n\nexport async function getAntdIcons(): Promise<Record<string, string[]>> {\n  return (await import(\"../antd-icon/generated/icons.json\")).default;\n}\n\ncustomElements.define(\n  \"icons.get-easyops-icons\",\n  createProviderClass(getEasyopsIcons)\n);\n\ncustomElements.define(\"icons.get-fa-icons\", createProviderClass(getFaIcons));\n\ncustomElements.define(\n  \"icons.get-antd-icons\",\n  createProviderClass(getAntdIcons)\n);\n","import { createProviderClass } from \"@next-core/utils/general\";\nimport { LibIconProps } from \"../general-icon/index.jsx\";\nimport { getEasyopsIcons, getFaIcons, getAntdIcons } from \"./get-icons.js\";\nimport { uniqBy } from \"lodash\";\n\nexport interface IconInfo {\n  title: string;\n  icon: LibIconProps;\n  $searchTextPool: string[];\n}\n\nexport interface LibInfo {\n  title: string;\n  lib: string;\n  icons: IconInfo[];\n}\n\nexport async function getLibs(): Promise<LibInfo[]> {\n  const easyopsIconLib = getEasyopsIcons().then((allIcons) => {\n    const iconInfoList: IconInfo[] = [];\n    Object.entries(allIcons).forEach(([category, icons]) => {\n      icons.forEach((iconName) => {\n        iconInfoList.push({\n          title: iconName,\n          icon: {\n            lib: \"easyops\",\n            category,\n            icon: iconName,\n          },\n          $searchTextPool: [iconName, category],\n        });\n      });\n    });\n    return { title: \"easyops\", lib: \"easyops\", icons: iconInfoList };\n  });\n\n  const faIconLib = Promise.all([\n    getFaIcons(),\n    import(\"../fa-icon/generated/alias.json\"),\n  ]).then(([allIcons, { default: aliasMapByCategory }]) => {\n    const iconAliasMapByPrefix: Record<string, Record<string, string[]>> = {};\n    Object.entries(aliasMapByCategory).forEach(([prefix, aliasesMap]) => {\n      iconAliasMapByPrefix[prefix] = {};\n      Object.entries(aliasesMap).forEach(([alias, iconName]) => {\n        iconAliasMapByPrefix[prefix][iconName]\n          ? iconAliasMapByPrefix[prefix][iconName].push(alias)\n          : (iconAliasMapByPrefix[prefix][iconName] = [alias]);\n      });\n    });\n\n    const iconInfoList: IconInfo[] = [];\n    Object.entries(allIcons).forEach(([prefix, icons]) => {\n      icons.forEach((iconName) => {\n        if (\n          (aliasMapByCategory as Record<string, Record<string, string>>)[\n            prefix\n          ][iconName]\n        )\n          return;\n        const aliases = iconAliasMapByPrefix[prefix][iconName] || [];\n        iconInfoList.push({\n          title: iconName,\n          icon: {\n            lib: \"fa\",\n            prefix,\n            icon: iconName,\n          },\n          $searchTextPool: [iconName, prefix, ...aliases],\n        });\n      });\n    });\n    return {\n      title: \"font awesome\",\n      lib: \"fa\",\n      icons: uniqBy(iconInfoList, \"title\"),\n    };\n  });\n\n  const antdIconLib = getAntdIcons().then((allIcons) => {\n    const iconInfoList: IconInfo[] = [];\n    Object.entries(allIcons).forEach(([theme, icons]) => {\n      icons.forEach((iconName) => {\n        iconInfoList.push({\n          title: iconName,\n          icon: {\n            lib: \"antd\",\n            theme,\n            icon: iconName,\n          },\n          $searchTextPool: [iconName, theme],\n        });\n      });\n    });\n    return { title: \"ant design\", lib: \"antd\", icons: iconInfoList };\n  });\n\n  return Promise.all([easyopsIconLib, antdIconLib, faIconLib]);\n}\n\ncustomElements.define(\"icons.get-libs\", createProviderClass(getLibs));\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["getEasyopsIcons","_getEasyopsIcons","apply","arguments","_asyncToGenerator","default","getFaIcons","_getFaIcons","getAntdIcons","_getAntdIcons","customElements","define","createProviderClass","getLibs","_getLibs","easyopsIconLib","then","allIcons","iconInfoList","Object","entries","forEach","_ref","category","icons","iconName","push","title","icon","lib","$searchTextPool","faIconLib","Promise","all","_ref2","aliasMapByCategory","iconAliasMapByPrefix","_ref3","prefix","aliasesMap","_ref4","alias","_ref5","aliases","uniqBy","antdIconLib","_ref6","theme","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","fn","self","this","args","err","undefined"],"sourceRoot":""}