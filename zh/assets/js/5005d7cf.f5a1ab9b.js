"use strict";(globalThis.webpackChunknext_docs=globalThis.webpackChunknext_docs||[]).push([[4770],{4458:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>_,contentTitle:()=>M,default:()=>I,frontMatter:()=>N,metadata:()=>Z,toc:()=>z});var s=t(5893),r=t(1151),o=t(7867);const i="brick: sl-card\nchildren:\n- brick: strong\n  slot: header\n  properties:\n    textContent: My Todos\n- brick: sl-checkbox\n  properties:\n    textContent: Hard work\n- brick: sl-checkbox\n  properties:\n    textContent: Have lunch\n- brick: sl-checkbox\n  properties:\n    textContent: Go on vacation",l="brick: sl-card\nchildren:\n- brick: strong\n  slot: header\n  properties:\n    textContent: My Todos\n- brick: ':forEach'\n  dataSource: <% CTX.todos %>\n  children:\n  - brick: sl-checkbox\n    properties:\n      textContent: <% ITEM.title %>\n      checked: <% ITEM.done %>",c="brick: sl-card\nchildren:\n- brick: strong\n  slot: header\n  properties:\n    textContent: My Todos\n- brick: sl-input\n  properties:\n    placeholder: What to do?\n  events:\n    keydown:\n    - if: <% EVENT.code === 'Enter' %>\n      action: context.replace\n      args:\n      - todos\n      - |\n        <%\n          CTX.todos.concat({\n            title: EVENT.target.value,\n            done: false,\n          })\n        %>\n    - if: <% EVENT.code === 'Enter' %>\n      target: _self\n      properties:\n        value: ''\n- brick: ':forEach'\n  dataSource: <%= CTX.todos %>\n  children:\n  - brick: sl-checkbox\n    properties:\n      textContent: <% ITEM.title %>\n      checked: <% ITEM.done %>",a="    events:\n      sl-change:\n        action: context.replace\n        args:\n        - todos\n        - |\n          <%\n            CTX.todos.map(item => ({\n              ...item,\n              done: item === ITEM ? !item.done : item.done\n            }))\n          %>",d="- brick: sl-button\n  slot: footer\n  properties:\n    textContent: Clear completed\n    size: small\n  events:\n    click:\n      action: context.replace\n      args:\n      - todos\n      - <% CTX.todos.filter(t => !t.done) %>",h="- name: todos\n  resolve:\n    useProvider: basic.http-request\n    args:\n    - ./todos.json";const x={"style.css":t(8056).Z},p=i,u=c,m=[c,d].join("\n"),f=[c,a,d].join("\n"),j=f.split("\n"),b=j.findIndex((e=>e.includes("sl-button"))),g=[...j.slice(0,b+1),"  if: <%= CTX.todos.some(t => t.done) %>",...j.slice(b+1)].join("\n"),v=c.split("\n").length,k=[[7,13]],y=[[7,26],[28,28,"modified"]],w=[[v+1,m.split("\n").length]],C=[[v+1,v+a.split("\n").length]],T=[[b+2,b+2]],S=[[1,5]],E=t.p+"assets/images/my-todos-light-510c34d08c5dfe403ab644cb8108153f.png",N={title:"\u6559\u7a0b"},M=void 0,Z={id:"learn/tutorial",title:"\u6559\u7a0b",description:"\u672c\u6559\u7a0b\u5c06\u8ba9\u60a8\u642d\u5efa\u4e00\u4e2a\u5c0f\u578b\u7684 My Todos \u5e94\u7528\u3002\u5728\u672c\u6559\u7a0b\u4e2d\u60a8\u5c06\u5b66\u4e60\u5230\u7684\u6280\u672f\u662f\u6784\u5efa\u4efb\u4f55 Brick Next \u5e94\u7528\u7684\u57fa\u7840\uff0c\u5b8c\u5168\u7406\u89e3\u5b83\u5c06\u8ba9\u60a8\u5bf9 Brick Next \u6709\u6df1\u523b\u7684\u7406\u89e3\u3002",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/learn/tutorial.mdx",sourceDirName:"learn",slug:"/learn/tutorial",permalink:"/zh/docs/learn/tutorial",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"\u6559\u7a0b"},sidebar:"docsSidebar",previous:{title:"\u5feb\u901f\u5f00\u59cb",permalink:"/zh/docs/learn/quick-start"},next:{title:"\u5b89\u88c5",permalink:"/zh/docs/learn/installation"}},_={},z=[{value:"\u8bbe\u7f6e",id:"setup-for-the-tutorial",level:2},{value:"\u4ee5\u9759\u6001 storyboard \u5f00\u59cb",id:"starting-with-a-static-storyboard",level:2},{value:"\u83b7\u53d6\u6570\u636e",id:"fetching-data",level:2},{value:"\u4f20\u9012\u6570\u636e",id:"passing-data",level:2},{value:"\u54cd\u5e94\u4e8b\u4ef6",id:"responding-to-events",level:2},{value:"\u6761\u4ef6\u6e32\u67d3",id:"conditional-rendering",level:2}];function P(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["\u672c\u6559\u7a0b\u5c06\u8ba9\u60a8\u642d\u5efa\u4e00\u4e2a\u5c0f\u578b\u7684 ",(0,s.jsx)(n.em,{children:"My Todos"})," \u5e94\u7528\u3002\u5728\u672c\u6559\u7a0b\u4e2d\u60a8\u5c06\u5b66\u4e60\u5230\u7684\u6280\u672f\u662f\u6784\u5efa\u4efb\u4f55 Brick Next \u5e94\u7528\u7684\u57fa\u7840\uff0c\u5b8c\u5168\u7406\u89e3\u5b83\u5c06\u8ba9\u60a8\u5bf9 Brick Next \u6709\u6df1\u523b\u7684\u7406\u89e3\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u60a8\u53ef\u4ee5\u5148\u770b\u770b\u6700\u7ec8\u7684\u6548\u679c\uff1a"}),"\n",(0,s.jsx)("img",{src:E,width:309,alt:"Screen shot of My Todos app",style:{display:"block",margin:"var(--ifm-leading) auto"}}),"\n",(0,s.jsx)(n.h2,{id:"setup-for-the-tutorial",children:"\u8bbe\u7f6e"}),"\n",(0,s.jsxs)(n.p,{children:["\u5728 StackBlitz \u4e0a ",(0,s.jsx)(n.a,{href:"https://stackblitz.com/edit/brick-next-tutorial-my-todos?file=bootstrap.js,context.yml,storyboard.yml",children:"Fork \u672c\u6559\u7a0b\u9879\u76ee"}),"\u3002StackBlitz \u53ef\u4ee5\u8ba9\u60a8\u5728\u6d4f\u89c8\u5668\u4e2d\u8fdb\u884c\u5f00\u53d1\uff0c\u5e76\u9884\u89c8\u60a8\u7684\u7528\u6237\u5c06\u770b\u5230\u7684\u5e94\u7528\u7a0b\u5e8f\u3002"]}),"\n",(0,s.jsxs)(n.admonition,{type:"tip",children:[(0,s.jsx)(n.p,{children:"\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528\u672c\u5730\u5f00\u53d1\u73af\u5883\u6765\u5b66\u4e60\u672c\u6559\u7a0b\u3002\u8981\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u60a8\u9700\u8981\uff1a"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\u5b89\u88c5 ",(0,s.jsx)(n.a,{href:"https://nodejs.org/zh-cn/",children:"Node.js"})]}),"\n",(0,s.jsx)(n.li,{children:"\u5728\u60a8\u4e4b\u524d\u6253\u5f00\u7684 StackBlitz \u6807\u7b7e\u9875\u4e2d\uff0c\u5728 Project \u9762\u677f\u4e0a\uff0c\u627e\u5230\u4e0b\u8f7d\u6309\u94ae\u5e76\u70b9\u51fb\u5b83\uff0c\u4e0b\u8f7d\u9879\u76ee\u6587\u4ef6\u5230\u672c\u5730"}),"\n",(0,s.jsxs)(n.li,{children:["\u89e3\u538b\u4e0b\u8f7d\u7684\u6587\u4ef6\uff0c\u7136\u540e\u6253\u5f00\u4e00\u4e2a\u7ec8\u7aef\uff0c",(0,s.jsx)(n.code,{children:"cd"})," \u5230\u89e3\u538b\u540e\u7684\u76ee\u5f55"]}),"\n",(0,s.jsxs)(n.li,{children:["\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"npm install"})," \u5b89\u88c5\u4f9d\u8d56"]}),"\n",(0,s.jsxs)(n.li,{children:["\u6267\u884c ",(0,s.jsx)(n.code,{children:"npm start"})," \u542f\u52a8\u672c\u5730\u670d\u52a1\u5668\uff0c\u6309\u7167\u63d0\u793a\u5728\u6d4f\u89c8\u5668\u4e2d\u67e5\u770b\u4ee3\u7801\u8fd0\u884c\u6548\u679c"]}),"\n"]}),(0,s.jsx)(n.p,{children:"\u5982\u679c\u60a8\u9047\u5230\u4e86\u95ee\u9898\uff0c\u4e0d\u8981\u5c31\u6b64\u6253\u4f4f\uff01\u8ddf\u7740\u5728\u7ebf\u6559\u7a0b\u7ee7\u7eed\u5b66\u4e60\uff0c\u7a0d\u540e\u518d\u5c1d\u8bd5\u672c\u5730\u5f00\u53d1\u73af\u5883\u3002"})]}),"\n",(0,s.jsx)(n.h2,{id:"starting-with-a-static-storyboard",children:"\u4ee5\u9759\u6001 storyboard \u5f00\u59cb"}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u8be5\u5165\u95e8\u9879\u76ee\u4e2d\uff0c\u5df2\u7ecf\u4e3a\u60a8\u521b\u5efa\u4e86\u4e00\u4e2a\u9759\u6001 storyboard\uff1a"}),"\n",(0,s.jsx)(o.Z,{files:[{name:"Bricks",code:i}],hiddenFiles:x}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u4e86 ",(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/YAML",children:"YAML"})," \u6765\u5b9a\u4e49 storyboard\uff0c\u56e0\u4e3a\u5b83\u4e0e JSON \u6216\u5176\u4ed6\u8bed\u8a00\u76f8\u6bd4\uff0c\u8bed\u6cd5\u66f4\u7b80\u5355\uff0c\u540c\u65f6\u66f4\u5bb9\u6613\u9605\u8bfb\u3002\u4f46\u8bf7\u8bb0\u4f4f\uff0cStoryboard \u53ea\u662f\u6811\u72b6\u7ed3\u6784\u6570\u636e\u3002"]})}),"\n",(0,s.jsx)(n.p,{children:"\u5b83\u5b9a\u4e49\u4e86\u4e00\u4e2a\u4e0e\u4ee5\u4e0b HTML \u51e0\u4e4e\u76f8\u540c\u7684\u9875\u9762\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<sl-card>\n  <strong slot="header">My Todos</strong>\n  <sl-checkbox>Hard work</sl-checkbox>\n  <sl-checkbox>Have launch</sl-checkbox>\n  <sl-checkbox>Go on vacation</sl-checkbox>\n</sl-card>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u5176\u4e2d\uff0c",(0,s.jsx)(n.a,{href:"https://shoelace.style/components/card",children:(0,s.jsx)(n.code,{children:"sl-card"})})," \u548c ",(0,s.jsx)(n.a,{href:"https://shoelace.style/components/checkbox",children:(0,s.jsx)(n.code,{children:"sl-checkbox"})})," \u662f\u6765\u81ea\u7b2c\u4e09\u65b9\u5e93 ",(0,s.jsx)(n.a,{href:"https://shoelace.style/",children:"Shoelace"})," \u7684 web components\uff0c\u5b83\u4eec\u5df2\u7ecf\u88ab\u96c6\u6210\u5230\u4e86 Brick Next \u7684\u5185\u7f6e brick \u5e93\u4e2d\u3002\u60a8\u53ef\u4ee5\u5728 Shoelace \u7684\u7f51\u7ad9\u4e0a\u67e5\u770b\u66f4\u591a\u7ec6\u8282\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"fetching-data",children:"\u83b7\u53d6\u6570\u636e"}),"\n",(0,s.jsx)(n.p,{children:"\u63a5\u4e0b\u6765\u60a8\u4f1a\u5e0c\u671b\u4ece\u8fdc\u7aef\u83b7\u53d6\u5f85\u529e\u5217\u8868\u6570\u636e\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u9759\u6001\u6307\u5b9a\u7684\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u9996\u5148\uff0c\u5047\u8bbe\u60a8\u6709\u4e00\u4e2a RESTful API \u6765\u83b7\u53d6\u5f85\u529e\u5217\u8868\u6570\u636e\uff0c\u5b83\u5c06\u8fd4\u56de\u4ee5\u4e0b JSON\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "title": "Hard work",\n    "done": true\n  },\n  {\n    "title": "Have launch",\n    "done": false\n  },\n  {\n    "title": "Go on vacation",\n    "done": false\n  }\n]\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u7136\u540e\uff0c\u60a8\u5c06\u5b9a\u4e49\u4e00\u4e2a\u6765\u81ea API \u8bf7\u6c42\u8fd4\u56de\u6570\u636e\u5f97\u5230\u7684 context\uff1a"}),"\n",(0,s.jsx)(o.Z,{files:[{name:"Bricks",code:p},{name:"Context",defaultActive:!0,code:h,highlightRanges:S}],hiddenFiles:x}),"\n",(0,s.jsxs)(n.p,{children:["\u8fd9\u91cc\u60a8\u4f7f\u7528\u4e86\u4e00\u4e2a\u5185\u7f6e\u7684 ",(0,s.jsx)(n.a,{href:"/zh/docs/concepts/provider-bricks",children:"provider \u6784\u4ef6"})," ",(0,s.jsx)(n.code,{children:"basic.http-request"}),"\uff0c\u5b83\u53ef\u4ee5\u8c03\u7528\u4efb\u610f HTTP API\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a URL \u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u3002\u4e3a\u4e86\u7b80\u5355\u8d77\u89c1\uff0c\u5728\u672c\u6559\u7a0b\u4e2d\u4f7f\u7528\u4e86\u4e00\u4e2a\u9759\u6001\u7684 JSON \u6587\u4ef6\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"passing-data",children:"\u4f20\u9012\u6570\u636e"}),"\n",(0,s.jsx)(n.p,{children:"\u60a8\u5df2\u7ecf\u83b7\u53d6\u4e86\u6765\u81ea API \u7684\u5f85\u529e\u5217\u8868\u6570\u636e\uff0c\u4f46\u662f\u5982\u4f55\u5c06\u5b83\u4f20\u9012\u7ed9\u9875\u9762\u5462\uff1f"}),"\n",(0,s.jsxs)(n.p,{children:["\u4e3a\u4e86\u80fd\u6e32\u67d3\u5f85\u529e\u5217\u8868\uff0c\u60a8\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a",(0,s.jsx)(n.a,{href:"/zh/docs/concepts/control-nodes",children:"\u63a7\u5236\u8282\u70b9"})," ",(0,s.jsx)(n.code,{children:":forEach"}),"\uff0c\u4f7f\u7528",(0,s.jsx)(n.a,{href:"/zh/docs/concepts/expressions",children:"\u8868\u8fbe\u5f0f"}),"\u5c06\u5b83\u7684 ",(0,s.jsx)(n.code,{children:"dataSource"})," \u8bbe\u7f6e\u4e3a\u4e4b\u524d\u5b9a\u4e49\u7684 context\uff0c\u5e76\u5c06\u5b83\u7684 ",(0,s.jsx)(n.code,{children:"children"})," \u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u6784\u4ef6\u5217\u8868\uff0c\u5bf9\u4e8e\u6570\u636e\u6e90\u4e2d\u7684\u6bcf\u4e00\u9879\uff0c\u8fd9\u4e9b\u6784\u4ef6\u90fd\u5c06\u88ab\u6e32\u67d3\u4e00\u6b21\u3002"]}),"\n",(0,s.jsx)(o.Z,{files:[{name:"Bricks",code:l,highlightRanges:k},{name:"Context",code:h}],hiddenFiles:x}),"\n",(0,s.jsxs)(n.p,{children:["\u60a8\u53ef\u4ee5\u5728 ",(0,s.jsx)(n.code,{children:"children"})," \u5185\u90e8\u7684\u8868\u8fbe\u5f0f\u4e2d\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"ITEM"})," \u6765\u8bbf\u95ee\u6bcf\u6b21\u5faa\u73af\u7684\u5f53\u524d\u9879\u6570\u636e\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"responding-to-events",children:"\u54cd\u5e94\u4e8b\u4ef6"}),"\n",(0,s.jsx)(n.p,{children:"\u8ba9\u6211\u4eec\u6dfb\u52a0\u4e00\u4e2a\u8f93\u5165\u6846\uff0c\u4ee5\u4fbf\u7528\u6237\u53ef\u4ee5\u6dfb\u52a0\u5f85\u529e\u4e8b\u9879\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u6dfb\u52a0\u4e00\u4e2a\u6784\u4ef6 ",(0,s.jsx)(n.a,{href:"https://shoelace.style/components/input",children:"sl-input"}),"\uff0c\u76d1\u542c\u5b83\u7684 ",(0,s.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/keydown_event",children:(0,s.jsx)(n.code,{children:"keydown"})})," \u4e8b\u4ef6\uff0c\u5f53\u7528\u6237\u6309\u4e0b ",(0,s.jsx)(n.em,{children:"Enter"})," \u952e\u65f6\uff0c\u5c06\u4e00\u4e2a\u5f85\u529e\u4e8b\u9879\u63a8\u5165\u5217\u8868\u4e2d\u3002"]}),"\n",(0,s.jsx)(o.Z,{files:[{name:"Bricks",code:u,highlightRanges:y},{name:"Context",code:h}],hiddenFiles:x}),"\n",(0,s.jsxs)(n.p,{children:["\u6ce8\u610f\uff0c\u60a8\u8fd8\u9700\u8981\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"<%= %>"})," \u66f4\u65b0 ",(0,s.jsx)(n.code,{children:"dataSource"})," \u7684\u8868\u8fbe\u5f0f\uff0c\u4ee5\u542f\u7528\u7ed1\u5b9a\u6a21\u5f0f\uff0c\u800c\u4e0d\u662f ",(0,s.jsx)(n.code,{children:"<% %>"}),"\uff0c\u5426\u5219\u5f53 context \u66f4\u65b0\u65f6\uff0c\u5217\u8868\u5c06\u4e0d\u4f1a\u5237\u65b0\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u63a5\u4e0b\u6765\u60a8\u5c06\u6dfb\u52a0\u4e00\u4e2a\u529f\u80fd\uff0c\u5141\u8bb8\u7528\u6237\u6e05\u9664\u5df2\u5b8c\u6210\u7684\u5f85\u529e\u4e8b\u9879\u3002"}),"\n",(0,s.jsx)(o.Z,{files:[{name:"Bricks",code:m,highlightRanges:w},{name:"Context",code:h}],hiddenFiles:x}),"\n",(0,s.jsxs)(n.p,{children:["\u4f46\u662f\uff0cclear \u6309\u94ae\u5e76\u4e0d\u4f1a\u6309\u7167\u60a8\u7684\u9884\u671f\u5de5\u4f5c\uff0c\u5b83\u53ea\u4f1a\u6e05\u9664\u521d\u59cb\u65f6 ",(0,s.jsx)(n.code,{children:"done: true"})," \u7684 ",(0,s.jsx)(n.code,{children:"Hard work"}),"\u3002\u5982\u679c\u7528\u6237\u70b9\u51fb\u5b8c\u6210\u4e86\u5176\u4ed6\u5f85\u529e\u4e8b\u9879\uff0c\u518d\u70b9\u51fb clear \u6309\u94ae\u5b83\u4eec\u5c06\u4e0d\u4f1a\u88ab\u6e05\u9664\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u8fd9\u662f\u56e0\u4e3a\u5f53\u7528\u6237\u70b9\u51fb\u590d\u9009\u6846\u65f6\uff0c\u5f85\u529e\u4e8b\u9879\u7684 ",(0,s.jsx)(n.code,{children:"done"})," \u72b6\u6001\u5e76\u6ca1\u6709\u88ab\u66f4\u65b0\u3002\u60a8\u9700\u8981\u5728\u7528\u6237\u70b9\u51fb\u590d\u9009\u6846\u65f6\u66f4\u65b0 context\u3002"]}),"\n",(0,s.jsx)(o.Z,{files:[{name:"Bricks",code:f,highlightRanges:C},{name:"Context",code:h}],hiddenFiles:x}),"\n",(0,s.jsx)(n.h2,{id:"conditional-rendering",children:"\u6761\u4ef6\u6e32\u67d3"}),"\n",(0,s.jsx)(n.p,{children:"\u6700\u540e\uff0c\u8ba9\u6211\u4eec\u53ea\u5728\u6709\u5df2\u5b8c\u6210\u7684\u5f85\u529e\u4e8b\u9879\u65f6\u624d\u663e\u793a clear \u6309\u94ae\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u4e3a\u6b64\uff0c\u60a8\u53ef\u4ee5\u7ed9 clear \u6309\u94ae\u6dfb\u52a0\u4e00\u4e2a  ",(0,s.jsxs)(n.a,{href:"/zh/docs/concepts/conditional-rendering",children:[(0,s.jsx)(n.code,{children:"if"})," \u6761\u4ef6"]}),"\uff1a"]}),"\n",(0,s.jsx)(o.Z,{files:[{name:"Bricks",code:g,highlightRanges:T},{name:"Context",code:h}],hiddenFiles:x})]})}function I(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(P,{...e})}):P(e)}},9728:(e,n,t)=>{t.d(n,{Z:()=>o});t(7294);const s={ringContainer:"ringContainer_Jl9i",ring:"ring_UfU1"};var r=t(5893);function o(){return(0,r.jsx)("div",{className:s.ringContainer,children:(0,r.jsxs)("div",{className:s.ring,children:[(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{})]})})}},5295:(e,n,t)=>{t.d(n,{Z:()=>c});var s=t(7294),r=t(9728),o=t(5893);const i=s.lazy((()=>Promise.all([t.e(532),t.e(635),t.e(1651)]).then(t.bind(t,1651)))),l=s.lazy((()=>Promise.all([t.e(532),t.e(9850),t.e(9384)]).then(t.bind(t,6718)))),c=(0,s.forwardRef)((function(e,n){let{files:t,currentFile:c,theme:a,className:d,typingEffectReady:h,onChange:x}=e;const p=!!navigator.maxTouchPoints;return(0,s.useEffect)((()=>{if(p&&x){const e=t.find((e=>e.name===c));e.codeSlides&&x(e.code,c)}}),[c,t,p,x]),(0,o.jsx)(s.Suspense,{fallback:(0,o.jsx)(r.Z,{}),children:p?(0,o.jsx)(i,{files:t,currentFile:c,className:d}):(0,o.jsx)(l,{files:t,currentFile:c,theme:a,className:d,typingEffectReady:h,onChange:x,ref:n})})}))},7867:(e,n,t)=>{t.d(n,{Z:()=>k});var s=t(7294),r=t(3935),o=t(4132),i=t(9507),l=t(573),c=t(5893);function a(e){let{children:n,fallback:t}=e;return(0,l.Z)()?(0,c.jsx)(c.Fragment,{children:null==n?void 0:n()}):t??null}var d,h=t(6010),x=t(6616),p=t(2748);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},u.apply(null,arguments)}const m=e=>{let{title:n,titleId:t,...r}=e;return s.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-chevron-up",viewBox:"0 0 16 16","aria-labelledby":t},r),n?s.createElement("title",{id:t},n):null,d||(d=s.createElement("path",{fillRule:"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708z"})))};var f;function j(){return j=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},j.apply(null,arguments)}const b=e=>{let{title:n,titleId:t,...r}=e;return s.createElement("svg",j({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-chevron-down",viewBox:"0 0 16 16","aria-labelledby":t},r),n?s.createElement("title",{id:t},n):null,f||(f=s.createElement("path",{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"})))};var g=t(9728);const v={example:"example_UmKM",editorColumn:"editorColumn_AL_t",previewColumn:"previewColumn_FsuT",editorContainer:"editorContainer_sUW3",preview:"preview_bwr6",ready:"ready_dhJq",expanded:"expanded_o_pT",collapsed:"collapsed_aDj8",tabs:"tabs_yDjk",tab:"tab_uskj",active:"active_KoUc",buttonToggleShowMore:"buttonToggleShowMore_A68N",expandable:"expandable_arS4",condensed:"condensed_ytqo"};function k(e){let{files:n,hiddenFiles:l,condensed:d,wait:u,className:f}=e;const j=(0,s.useRef)(),k=(0,s.useRef)(),{colorMode:T}=(0,i.I)(),S=(0,o.ZP)("/preview/"),E=(0,s.useRef)(),[N,M]=(0,s.useState)(p.cP),[Z,_]=(0,s.useState)(!1),[z,P]=(0,s.useState)((()=>(n.find((e=>e.defaultActive))??n[0]).name)),[I,B]=(0,s.useState)((()=>C(n,z))),[F,R]=(0,s.useState)((()=>y(I,N))),[A,O]=(0,s.useState)(!1),H=(0,s.useCallback)((()=>{const e=()=>{var n;null!=(n=E.current)&&null!=(n=n.contentWindow)&&n._preview_only_render?_(!0):setTimeout(e,100)};e()}),[]),[L,q]=(0,s.useState)((()=>Object.fromEntries(n.map((e=>{var n;return[e.name,(null==(n=e.codeSlides)?void 0:n[0])??e.code]}))))),V=(0,x.Z)(L);(0,s.useEffect)((()=>{var e;if(!Z)return;const n=null==(e=E.current)||null==(e=e.contentWindow)?void 0:e._preview_only_render;if(!n)return;const{Bricks:t,Context:s,Functions:r,Templates:o,I18N:i,Style:c,templatesAreArrayOfYaml:a}=function(e){const n={},t=[],s=[];for(const[r,o]of Object.entries(e))if(r.startsWith("Functions/")){const[e,n]=r.split("/")[1].split(".");t.push({name:e,source:o,typescript:"ts"===n})}else r.startsWith("tpl-")?s.push({name:r,yaml:o}):"style.css"===r?n.Style=o:n[r]=o;t.length>0&&(n.Functions=t);s.length>0&&(n.Templates=s,n.templatesAreArrayOfYaml=!0);return n}({...l,...V});n("yaml",{yaml:t},{theme:T,context:s,functions:r,templates:o,i18n:i,styleText:c,templatesAreArrayOfYaml:a})}),[Z,T,V,l]),(0,s.useEffect)((()=>{if(!Z)return;const e=new ResizeObserver((e=>{for(const t of e){var n;M(Math.max(p.cP,(null==(n=t.borderBoxSize)||null==(n=n[0])?void 0:n.blockSize)??t.contentRect.height))}}));return e.observe(E.current.contentDocument.body,{box:"border-box"}),()=>{e.disconnect()}}),[Z]);const W=(0,s.useCallback)(((e,t)=>{q((n=>({...n,[t]:e})));w(n,t).minLines||B(e.split("\n").length)}),[n]);(0,s.useEffect)((()=>{B(C(n,z))}),[n,z]),(0,s.useEffect)((()=>{R(y(I,N))}),[I,N]);const U=(0,s.useCallback)((()=>{const e=!A;var n;((0,r.flushSync)((()=>{O(e)})),e)||(null==(n=k.current)||n.resetScrollTop(),j.current.scrollIntoViewIfNeeded?j.current.scrollIntoViewIfNeeded():j.current.scrollIntoView({block:"nearest",inline:"nearest"}))}),[A]),X=F>p.qH,J={height:X&&!A?p.qH:Math.max(F,p.lV)};return(0,c.jsxs)("div",{className:(0,h.Z)(v.example,f,{[v.expandable]:X,[v.condensed]:d}),ref:j,children:[(0,c.jsx)("div",{className:v.tabs,children:n.map((e=>(0,c.jsx)("button",{className:(0,h.Z)(v.tab,{[v.active]:e.name===z}),onClick:()=>{P(e.name)},children:"Bricks"===e.name?"Storyboard":e.name},e.name)))}),(0,c.jsx)("div",{className:v.editorColumn,style:J,children:u?(0,c.jsx)(g.Z,{}):(0,c.jsx)(a,{fallback:(0,c.jsx)(g.Z,{}),children:()=>{const e=t(5295).Z;return(0,c.jsx)(e,{files:n,currentFile:z,theme:"dark"===T?"vs-dark":"vs",className:v.editorContainer,typingEffectReady:Z,onChange:W,ref:k})}})}),(0,c.jsxs)("div",{className:(0,h.Z)(v.previewColumn,A?v.expanded:v.collapsed),style:{maxHeight:X&&!A?p.qH:"unset",padding:p.$P},children:[u||(0,c.jsx)("div",{className:(0,h.Z)(v.preview,{[v.ready]:Z}),children:(0,c.jsx)("iframe",{ref:E,src:S,loading:"lazy",onLoad:H,style:{height:N}})}),(u||!Z)&&(0,c.jsx)(g.Z,{})]}),X&&(0,c.jsxs)("button",{className:v.buttonToggleShowMore,role:"button",onClick:U,children:[A?(0,c.jsx)(m,{}):(0,c.jsx)(b,{}),(0,c.jsx)("span",{children:A?"Show less":"Show more"})]})]})}function y(e,n){const t=n+2*p.$P,s=e*p.CZ+p.sE+p.z5;return Math.max(t,s)}function w(e,n){return e.find((e=>e.name===n))}function C(e,n){const t=w(e,n);return t.minLines??t.code.split("\n").length}},2748:(e,n,t)=>{t.d(n,{$P:()=>o,CZ:()=>s,cP:()=>r,lV:()=>a,qH:()=>c,sE:()=>i,z5:()=>l});const s=22,r=32,o=20,i=12,l=12,c=16*s+l+i,a=6*s+l+i},6616:(e,n,t)=>{t.d(n,{Z:()=>r});var s=t(7294);function r(e,n){void 0===n&&(n=200);const[t,r]=(0,s.useState)(e);return(0,s.useEffect)((()=>{const t=setTimeout((()=>{r(e)}),n);return()=>{clearTimeout(t)}}),[e,n]),t}},8056:(e,n,t)=>{t.d(n,{Z:()=>s});const s="#preview-root {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1em;\n  justify-content: center;\n}\n\nsl-card {\n  display: block;\n  min-width: 200px;\n  max-width: 300px;\n  flex: 1;\n}\n\nsl-card::part(body) {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75em;\n}\n"},1151:(e,n,t)=>{t.d(n,{Z:()=>l,a:()=>i});var s=t(7294);const r={},o=s.createContext(r);function i(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);