"use strict";(globalThis.webpackChunknext_docs=globalThis.webpackChunknext_docs||[]).push([[8030],{3113:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>c,toc:()=>d});var i=t(5893),s=t(1151),r=t(7867);const o={title:"Quick Start"},a=void 0,c={id:"learn/quick-start",title:"Quick Start",description:"Welcome to the Brick Next documentation! This page will give you an introduction to the 80% of Brick Next concepts that you will use on a daily basis.",source:"@site/docs/learn/quick-start.mdx",sourceDirName:"learn",slug:"/learn/quick-start",permalink:"/docs/learn/quick-start",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Quick Start"},sidebar:"docsSidebar",next:{title:"Tutorial",permalink:"/docs/learn/tutorial"}},l={},d=[{value:"Nesting bricks",id:"nesting-bricks",level:2},{value:"Responding to events",id:"responding-to-events",level:2},{value:"Displaying data",id:"displaying-data",level:2},{value:"Conditional rendering",id:"conditional-rendering",level:2},{value:"Rendering lists",id:"rendering-lists",level:2},{value:"Making templates",id:"making-templates",level:2},{value:"Fetching data",id:"fetching-data",level:2},{value:"Next steps",id:"next-steps",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Welcome to the Brick Next documentation! This page will give you an introduction to the 80% of Brick Next concepts that you will use on a daily basis."}),"\n",(0,i.jsx)(n.p,{children:"For simplicity, in most examples on this page, we will use native HTML elements to build user interfaces with Brick Next."}),"\n",(0,i.jsxs)(n.p,{children:["However, the full potential of Brick Next will be realized only when combined with ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_components",children:"custom elements"}),". We have provided a first-party ",(0,i.jsx)(n.a,{href:"https://github.com/easyops-cn/next-bricks",children:"brick library"}),", containing lots of custom elements, with decent design, out of the box. There are also many free off-the-shelf third-party web components libraries, that can be easily integrated into Brick Next. Additionally, you can also create your own bricks."]}),"\n",(0,i.jsx)(n.h2,{id:"nesting-bricks",children:"Nesting bricks"}),"\n",(0,i.jsxs)(n.p,{children:["Storyboards are defined as declarative structural data, made out of ",(0,i.jsx)(n.em,{children:"bricks"}),"."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["In most examples through our documentation, we will use ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/YAML",children:"YAML"})," to define storyboards, since it has a minimal syntax, and is more human-readable at the same time, compared to JSON or others. But keep in mind that they are just structural data."]})}),"\n",(0,i.jsx)(r.Z,{files:[{name:"Bricks",code:"brick: div\nchildren:\n- brick: h1\n  properties:\n    textContent: Welcome to my app\n- brick: button\n  properties:\n    textContent: I'm a button"}]}),"\n",(0,i.jsx)(n.p,{children:"In the above example, we defined a page that is pretty the same as the following HTML:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<div>\n  <h1>Welcome to my app</h1>\n  <button>I'm a button</button>\n</div>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"responding-to-events",children:"Responding to events"}),"\n",(0,i.jsxs)(n.p,{children:["You can respond to events by declaring ",(0,i.jsx)(n.a,{href:"/docs/concepts/events",children:(0,i.jsx)(n.em,{children:"event handlers"})}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"brick: button\nproperties:\n  textContent: Click me\n// highlight-start\nevents:\n  click:\n    action: console.log\n    args:\n    - You clicked me\n// highlight-end\n"})}),"\n",(0,i.jsx)(n.h2,{id:"displaying-data",children:"Displaying data"}),"\n",(0,i.jsxs)(n.p,{children:["Embed JavaScript ",(0,i.jsx)(n.a,{href:"/docs/concepts/expressions",children:(0,i.jsx)(n.em,{children:"expressions"})})," to display dynamic data."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"brick: div\nproperties:\n// highlight-next-line\n  textContent: <% CTX.user.name %>\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Notice that the expressions have their own syntax highlighting through our documentation, but they are just ",(0,i.jsx)(n.em,{children:"strings"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Usually you should define some ",(0,i.jsx)(n.a,{href:"/docs/concepts/context",children:(0,i.jsx)(n.em,{children:"contexts"})})," to manage page states, and use expressions to bind the states to brick properties. You can also updating these states in response to events, thus the bound properties will be updated automatically once the states changed."]}),"\n",(0,i.jsx)(r.Z,{files:[{name:"Bricks",code:"brick: button\nproperties:\n  textContent: <%= `Clicked ${CTX.count} times` %>\nevents:\n  click:\n    action: context.replace\n    args:\n    - count\n    - <% CTX.count + 1 %>"},{name:"Context",code:"- name: count\n  value: 0"}]}),"\n",(0,i.jsxs)(n.p,{children:["Notice that we use ",(0,i.jsx)(n.code,{children:"<%= %>"})," instead of ",(0,i.jsx)(n.code,{children:"<% %>"})," to enable binding mode."]}),"\n",(0,i.jsx)(n.h2,{id:"conditional-rendering",children:"Conditional rendering"}),"\n",(0,i.jsxs)(n.p,{children:["There are two ways to ",(0,i.jsx)(n.a,{href:"/docs/concepts/conditional-rendering",children:"conditionally render bricks"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["The first approach is to define a ",(0,i.jsx)(n.code,{children:"if"})," field along with your brick."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- if: <% CTX.isAdmin %>\n  brick: admin-panel\n- if: <% !CTX.isAdmin %>\n  brick: user-panel\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The second one is to use a ",(0,i.jsx)(n.a,{href:"/docs/concepts/control-nodes",children:(0,i.jsx)(n.em,{children:"control node"})})," of ",(0,i.jsx)(n.code,{children:":if"}),". It is more convenient if your condition is complex or you have multiple bricks to render."]}),"\n",(0,i.jsxs)(n.p,{children:["Specify the condition ",(0,i.jsx)(n.code,{children:"dataSource"})," which is usually an expression, and define the bricks to render in ",(0,i.jsx)(n.code,{children:"children"}),". If the condition is met, those children with an empty slot will be rendered, otherwise those children with slot of ",(0,i.jsx)(n.code,{children:"else"})," will be rendered."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"brick: ':if'\ndataSource: <% FN.check('my', 'complex', 'expression') %>\nchildren:\n- brick: admin-panel-a\n- brick: admin-panel-b\n- brick: user-panel-x\n  slot: else\n- brick: user-panel-y\n  slot: else\n"})}),"\n",(0,i.jsx)(n.h2,{id:"rendering-lists",children:"Rendering lists"}),"\n",(0,i.jsxs)(n.p,{children:["You can use a ",(0,i.jsx)(n.a,{href:"/docs/concepts/control-nodes",children:(0,i.jsx)(n.em,{children:"control node"})})," of ",(0,i.jsx)(n.code,{children:":forEach"})," to render lists of bricks."]}),"\n",(0,i.jsxs)(n.p,{children:["Like the ",(0,i.jsx)(n.code,{children:":if"})," node, you should also specify a ",(0,i.jsx)(n.code,{children:"dataSource"})," as well as ",(0,i.jsx)(n.code,{children:"children"}),". For each item in the list (",(0,i.jsx)(n.code,{children:"dataSource"}),"), the children will be rendered once. You can use ",(0,i.jsx)(n.code,{children:"ITEM"})," in expressions inside the children, to access the current item of each loop."]}),"\n",(0,i.jsx)(r.Z,{files:[{name:"Bricks",code:"brick: ul\nchildren:\n- brick: ':forEach'\n  dataSource: <% CTX.products %>\n  children:\n  - brick: li\n    properties:\n      textContent: <% ITEM.title %>\n      style:\n        color: |\n          <% ITEM.isFruit ? 'magenta' : 'green' %>"},{name:"Context",code:"- name: products\n  value:\n  - title: Cabbage\n    isFruit: false\n    id: 1\n  - title: Garlic\n    isFruit: false\n    id: 2\n  - title: Apple\n    isFruit: true\n    id: 3"}]}),"\n",(0,i.jsx)(n.h2,{id:"making-templates",children:"Making templates"}),"\n",(0,i.jsxs)(n.p,{children:["You can make ",(0,i.jsx)(n.a,{href:"/docs/concepts/custom-templates",children:(0,i.jsx)(n.em,{children:"templates"})})," to encapsulate parts of your UI, and reuse them just like other bricks."]}),"\n",(0,i.jsx)(n.p,{children:"A template can have its own scoped states which is very similar with contexts. Template states can be internal states, or exposed as properties of the template."}),"\n",(0,i.jsx)(r.Z,{files:[{name:"Bricks",code:"- brick: tpl-description\n  properties:\n    label: Name\n    content: Harry Potter\n- brick: tpl-description\n  properties:\n    label: Gender\n    content: Male\n- brick: tpl-description\n  properties:\n    label: Age\n    content: 17"},{name:"tpl-description",defaultActive:!0,code:"state:\n- name: label\n  expose: true\n- name: content\n  expose: true\nbricks:\n- brick: strong\n  properties:\n    textContent: <%= STATE.label %>\n- brick: p\n  properties:\n    textContent: <%= STATE.content %>"}]}),"\n",(0,i.jsx)(n.h2,{id:"fetching-data",children:"Fetching data"}),"\n",(0,i.jsx)(n.p,{children:"You can combine page states with remote HTTP APIs, and then bind these states with any brick properties."}),"\n",(0,i.jsx)(r.Z,{files:[{name:"Bricks",code:"- brick: h1\n  properties:\n    textContent: <% `Weather in ${CTX.city}` %>\n- brick: div\n  properties:\n    style:\n      display: grid\n      gridTemplateColumns: 24px 1fr\n      gap: 10px\n  children:\n  - brick: img\n    properties:\n      src: <% CTX.weather.current.condition.icon %>\n      style:\n        width: 24px\n  - brick: span\n    properties:\n      textContent: <% CTX.weather.current.condition.text %>\n  - brick: img\n    properties:\n      src: ../img/thermometer-half.svg\n      style:\n        width: 24px\n  - brick: span\n    properties:\n      textContent: |\n        <% `${Math.round(CTX.weather.current.temp_c)}\xb0C` %>"},{name:"Context",defaultActive:!0,code:"- name: city\n  value: Shenzhen\n- name: weather\n  resolve:\n    useProvider: basic.http-request\n    args:\n    - |\n      <%\n        `//api.weatherapi.com/v1/current.json?q=${\n          CTX.city\n        }&key=${MISC.weather_api_key}`\n      %>"}]}),"\n",(0,i.jsxs)(n.p,{children:["You can also create your own ",(0,i.jsx)(n.a,{href:"/docs/concepts/provider-bricks",children:(0,i.jsx)(n.em,{children:"provider bricks"})}),", which involves pro code, if you have complex logic to fetch and process data."]}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,i.jsx)(n.p,{children:"By now, you know the basics of how to write Brick Next storyboards!"}),"\n",(0,i.jsxs)(n.p,{children:["Check out the ",(0,i.jsx)(n.a,{href:"/docs/learn/tutorial",children:"Tutorial"})," to put them into practice and build your first micro-app with Brick Next."]})]})}function u(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},9728:(e,n,t)=>{t.d(n,{Z:()=>r});t(7294);const i={ringContainer:"ringContainer_Jl9i",ring:"ring_UfU1"};var s=t(5893);function r(){return(0,s.jsx)("div",{className:i.ringContainer,children:(0,s.jsxs)("div",{className:i.ring,children:[(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{})]})})}},5295:(e,n,t)=>{t.d(n,{Z:()=>c});var i=t(7294),s=t(9728),r=t(5893);const o=i.lazy((()=>Promise.all([t.e(532),t.e(635),t.e(1651)]).then(t.bind(t,1651)))),a=i.lazy((()=>Promise.all([t.e(532),t.e(9850),t.e(9384)]).then(t.bind(t,6718)))),c=(0,i.forwardRef)((function(e,n){let{files:t,currentFile:c,theme:l,className:d,typingEffectReady:h,onChange:u}=e;const p=!!navigator.maxTouchPoints;return(0,i.useEffect)((()=>{if(p&&u){const e=t.find((e=>e.name===c));e.codeSlides&&u(e.code,c)}}),[c,t,p,u]),(0,r.jsx)(i.Suspense,{fallback:(0,r.jsx)(s.Z,{}),children:p?(0,r.jsx)(o,{files:t,currentFile:c,className:d}):(0,r.jsx)(a,{files:t,currentFile:c,theme:l,className:d,typingEffectReady:h,onChange:u,ref:n})})}))},7867:(e,n,t)=>{t.d(n,{Z:()=>y});var i=t(7294),s=t(3935),r=t(4132),o=t(9507),a=t(573),c=t(5893);function l(e){let{children:n,fallback:t}=e;return(0,a.Z)()?(0,c.jsx)(c.Fragment,{children:null==n?void 0:n()}):t??null}var d,h=t(6010),u=t(6616),p=t(2748);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},m.apply(null,arguments)}const x=e=>{let{title:n,titleId:t,...s}=e;return i.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-chevron-up",viewBox:"0 0 16 16","aria-labelledby":t},s),n?i.createElement("title",{id:t},n):null,d||(d=i.createElement("path",{fillRule:"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708z"})))};var f;function b(){return b=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},b.apply(null,arguments)}const g=e=>{let{title:n,titleId:t,...s}=e;return i.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-chevron-down",viewBox:"0 0 16 16","aria-labelledby":t},s),n?i.createElement("title",{id:t},n):null,f||(f=i.createElement("path",{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"})))};var v=t(9728);const j={example:"example_UmKM",editorColumn:"editorColumn_AL_t",previewColumn:"previewColumn_FsuT",editorContainer:"editorContainer_sUW3",preview:"preview_bwr6",ready:"ready_dhJq",expanded:"expanded_o_pT",collapsed:"collapsed_aDj8",tabs:"tabs_yDjk",tab:"tab_uskj",active:"active_KoUc",buttonToggleShowMore:"buttonToggleShowMore_A68N",expandable:"expandable_arS4",condensed:"condensed_ytqo"};function y(e){let{files:n,hiddenFiles:a,condensed:d,wait:m,className:f}=e;const b=(0,i.useRef)(),y=(0,i.useRef)(),{colorMode:T}=(0,o.I)(),N=(0,r.ZP)("/preview/"),S=(0,i.useRef)(),[_,E]=(0,i.useState)(p.cP),[M,Z]=(0,i.useState)(!1),[A,I]=(0,i.useState)((()=>(n.find((e=>e.defaultActive))??n[0]).name)),[B,F]=(0,i.useState)((()=>C(n,A))),[P,R]=(0,i.useState)((()=>k(B,_))),[O,W]=(0,i.useState)(!1),Y=(0,i.useCallback)((()=>{const e=()=>{var n;null!=(n=S.current)&&null!=(n=n.contentWindow)&&n._preview_only_render?Z(!0):setTimeout(e,100)};e()}),[]),[q,z]=(0,i.useState)((()=>Object.fromEntries(n.map((e=>{var n;return[e.name,(null==(n=e.codeSlides)?void 0:n[0])??e.code]}))))),L=(0,u.Z)(q);(0,i.useEffect)((()=>{var e;if(!M)return;const n=null==(e=S.current)||null==(e=e.contentWindow)?void 0:e._preview_only_render;if(!n)return;const{Bricks:t,Context:i,Functions:s,Templates:r,I18N:o,Style:c,templatesAreArrayOfYaml:l}=function(e){const n={},t=[],i=[];for(const[s,r]of Object.entries(e))if(s.startsWith("Functions/")){const[e,n]=s.split("/")[1].split(".");t.push({name:e,source:r,typescript:"ts"===n})}else s.startsWith("tpl-")?i.push({name:s,yaml:r}):"style.css"===s?n.Style=r:n[s]=r;t.length>0&&(n.Functions=t);i.length>0&&(n.Templates=i,n.templatesAreArrayOfYaml=!0);return n}({...a,...L});n("yaml",{yaml:t},{theme:T,context:i,functions:s,templates:r,i18n:o,styleText:c,templatesAreArrayOfYaml:l})}),[M,T,L,a]),(0,i.useEffect)((()=>{if(!M)return;const e=new ResizeObserver((e=>{for(const t of e){var n;E(Math.max(p.cP,(null==(n=t.borderBoxSize)||null==(n=n[0])?void 0:n.blockSize)??t.contentRect.height))}}));return e.observe(S.current.contentDocument.body,{box:"border-box"}),()=>{e.disconnect()}}),[M]);const X=(0,i.useCallback)(((e,t)=>{z((n=>({...n,[t]:e})));w(n,t).minLines||F(e.split("\n").length)}),[n]);(0,i.useEffect)((()=>{F(C(n,A))}),[n,A]),(0,i.useEffect)((()=>{R(k(B,_))}),[B,_]);const H=(0,i.useCallback)((()=>{const e=!O;var n;((0,s.flushSync)((()=>{W(e)})),e)||(null==(n=y.current)||n.resetScrollTop(),b.current.scrollIntoViewIfNeeded?b.current.scrollIntoViewIfNeeded():b.current.scrollIntoView({block:"nearest",inline:"nearest"}))}),[O]),U=P>p.qH,$={height:U&&!O?p.qH:Math.max(P,p.lV)};return(0,c.jsxs)("div",{className:(0,h.Z)(j.example,f,{[j.expandable]:U,[j.condensed]:d}),ref:b,children:[(0,c.jsx)("div",{className:j.tabs,children:n.map((e=>(0,c.jsx)("button",{className:(0,h.Z)(j.tab,{[j.active]:e.name===A}),onClick:()=>{I(e.name)},children:"Bricks"===e.name?"Storyboard":e.name},e.name)))}),(0,c.jsx)("div",{className:j.editorColumn,style:$,children:m?(0,c.jsx)(v.Z,{}):(0,c.jsx)(l,{fallback:(0,c.jsx)(v.Z,{}),children:()=>{const e=t(5295).Z;return(0,c.jsx)(e,{files:n,currentFile:A,theme:"dark"===T?"vs-dark":"vs",className:j.editorContainer,typingEffectReady:M,onChange:X,ref:y})}})}),(0,c.jsxs)("div",{className:(0,h.Z)(j.previewColumn,O?j.expanded:j.collapsed),style:{maxHeight:U&&!O?p.qH:"unset",padding:p.$P},children:[m||(0,c.jsx)("div",{className:(0,h.Z)(j.preview,{[j.ready]:M}),children:(0,c.jsx)("iframe",{ref:S,src:N,loading:"lazy",onLoad:Y,style:{height:_}})}),(m||!M)&&(0,c.jsx)(v.Z,{})]}),U&&(0,c.jsxs)("button",{className:j.buttonToggleShowMore,role:"button",onClick:H,children:[O?(0,c.jsx)(x,{}):(0,c.jsx)(g,{}),(0,c.jsx)("span",{children:O?"Show less":"Show more"})]})]})}function k(e,n){const t=n+2*p.$P,i=e*p.CZ+p.sE+p.z5;return Math.max(t,i)}function w(e,n){return e.find((e=>e.name===n))}function C(e,n){const t=w(e,n);return t.minLines??t.code.split("\n").length}},2748:(e,n,t)=>{t.d(n,{$P:()=>r,CZ:()=>i,cP:()=>s,lV:()=>l,qH:()=>c,sE:()=>o,z5:()=>a});const i=22,s=32,r=20,o=12,a=12,c=16*i+a+o,l=6*i+a+o},6616:(e,n,t)=>{t.d(n,{Z:()=>s});var i=t(7294);function s(e,n){void 0===n&&(n=200);const[t,s]=(0,i.useState)(e);return(0,i.useEffect)((()=>{const t=setTimeout((()=>{s(e)}),n);return()=>{clearTimeout(t)}}),[e,n]),t}},1151:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>o});var i=t(7294);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);